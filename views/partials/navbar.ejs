<nav class="white z-depth-0" style="border-bottom: 1px solid #e0e0e0;">
    <div class="nav-wrapper container"
        style="display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap;">
        <!-- Logo and Brand -->
        <div style="display: flex; align-items: center;">
            <a href="/" class="brand-logo"
                style="color: #222; font-weight: 600; font-size: 18px; align-items: center; display: flex;">
                <img src="/images/ic-logo.svg" alt="Barter Trading Logo"
                    style="height: 32px; width: 32px; margin-right: 8px;" />
                Barter Trading
            </a>
        </div>

        <!-- Navigation and Auth Buttons -->
        <div style="display: flex; align-items: center; gap: 24px; flex-wrap: wrap; justify-content: flex-end;">
            <ul style="display: flex; align-items: center; gap: 12px; margin: 0; flex-wrap: wrap; justify-content: flex-end;">
                <% if (!user) { %>
                    <!-- Public navigation -->
                    <li><a href="#why-us" class="link" style="color: #444; font-weight: 400;">Why Us</a></li>
                    <li><a href="#how-it-works" class="link" style="color: #444; font-weight: 400;">How It Works</a></li>
                <% } else { %>
                    <!-- Authenticated navigation -->
                    <li><a href="/items" class="link" style="color: #444; font-weight: <%= currentPage === 'items' ? '600' : '400' %>;">Browse Items</a></li>
                    <li><a href="/dashboard" class="link" style="color: #444; font-weight: <%= currentPage === 'dashboard' ? '600' : '400' %>;">Dashboard</a></li>
                    <li><a href="/users/profile" class="link" style="color: #444; font-weight: <%= currentPage === 'profile' ? '600' : '400' %>;">Profile</a></li>
                <% } %>
            </ul>
            <% if (!user) { %>
                <a href="/users/register" class="btn waves-effect waves-light" style="<%= currentPage === 'register' ? 'background-color: #005f73;' : '' %>">Sign Up</a>
                <a href="/users/login" class="text-btn" style="<%= currentPage === 'login' ? 'font-weight: 600; text-decoration: underline;' : '' %>">Login</a>
            <% } else { %>
                <a href="/users/logout" class="link" style="color: #444; font-weight: 400;">Logout</a>
            <% } %>
        </div>
    </div>
</nav>

<!-- Mobile Navigation -->
<ul class="sidenav" id="mobile-nav">
    <li><a href="/" style="<%= !currentPage ? 'font-weight: 600;' : '' %>">Home</a></li>
    <% if (!user) { %>
        <!-- Public navigation -->
        <li><a href="#why-us">Why Us</a></li>
        <li><a href="#how-it-works">How It Works</a></li>
        <li><a href="/users/login" style="<%= currentPage === 'login' ? 'font-weight: 600; background-color: #f5f5f5;' : '' %>">Login</a></li>
        <li><a href="/users/register" style="<%= currentPage === 'register' ? 'font-weight: 600; background-color: #f5f5f5;' : '' %>">Register</a></li>
    <% } else { %>
        <!-- Authenticated navigation -->
        <li><a href="/items" style="<%= currentPage === 'items' ? 'font-weight: 600; background-color: #f5f5f5;' : '' %>">Browse Items</a></li>
        <li><a href="/trades" style="<%= currentPage === 'trades' ? 'font-weight: 600; background-color: #f5f5f5;' : '' %>">My Trades</a></li>
        <li><a href="/dashboard" style="<%= currentPage === 'dashboard' ? 'font-weight: 600; background-color: #f5f5f5;' : '' %>">Dashboard</a></li>
        <li><a href="/users/profile" style="<%= currentPage === 'profile' ? 'font-weight: 600; background-color: #f5f5f5;' : '' %>">Profile</a></li>
        <li><a href="/users/logout">Logout</a></li>
    <% } %>
</ul>

<!-- User Dropdown -->
<% if (user) { %>
<ul id="user-dropdown" class="dropdown-content">
    <li><a href="/users/profile">Profile</a></li>
    <li><a href="/users/profile/items">My Items</a></li>
    <li><a href="/users/profile/trades">My Trades</a></li>
    <li class="divider"></li>
    <li><a href="/users/logout">Logout</a></li>
</ul>
<% } %>